<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Список Пользователей</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="icon" href="https://digitalreviewboss.com/wp-content/uploads/2020/08/7-1.png">
</head>
<body>
    <header th:insert="blocks/header :: header"></header>

    <div>
        <a href="/menu">
            <button class="btn btn-success" style="margin-left: 15px; border-radius: 10px">Меню суперпользователя</button>
        </a><br>
        <table style="margin-left: 15px; margin-right: 20px">
            <tr>
                <th>id</th>
                <th>username</th>
                <th>role</th>
                <th>del</th>
            </tr>
            <tr th:each="el : ${users}" style="margin-left: 1vw; width: 310px">

                <td th:text="${el.id}"></td>
                <td th:text="${el.username}"></td>
                <td style="display: flex">
                    <form th:action="'/menu/users/'+${el.id}+'/update/0'" method="post">
                        <button style="border-radius: 10px;

                        border: 0px; height: 30px">
                            USER
                        </button>
                        <div th:if="${el.roles} == 'USER'">
                            ←
                        </div>
                    </form>
                    <form th:action="'/menu/users/'+${el.id}+'/update/1'" method="post">
                        <button style="border-radius: 10px;
                        border: 0px; height: 30px">
                            MODER
                            <p th:if="${el.roles} == 'MODER'">
                                ←
                            </p>
                        </button>

                    </form>
                    <form th:action="'/menu/users/'+${el.id}+'/update/2'" method="post">
                        <button style="border-radius: 10px;
                        border: 0px; height: 30px" >
                            ADMIN
                        </button>

                    </form>

                    <p th:text="${el.roles}">
                    </p>
                </td>
                <td><a th:href="'/menu/users/' + ${el.id} + '/del'" style="cursor: pointer">❌</a></td>
            </tr>
        </table>
    </div>

    <footer th:insert="blocks/footer :: footer"></footer>
</body>
</html>